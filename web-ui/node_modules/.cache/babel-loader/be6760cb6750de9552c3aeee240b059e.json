{"ast":null,"code":"import _slicedToArray from\"/home/portfolio/v2/web-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useInView,inView,InView}from'react-intersection-observer';import{connect}from\"react-redux\";import{motion}from\"framer-motion\";import{Link as LinkRouter}from'react-router-dom';import{Container,ImageContainer,WorkListContainer,Marker,ClickableArea,WorkItem,Label,Version,CaseStudy,WorkActions,ScrollContainer,WorkName,TagsContainer,ProjectTag,Details,VisitLink}from'./SideProjectsElements';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SideProjects=function SideProjects(_ref){var projects=_ref.projects,sideProjectsToggle=_ref.sideProjectsToggle;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),projectValue=_useState2[0],setProjectValue=_useState2[1];// const location = useLocation();\n// const [isMain, setIsMain] = useState(false);\n// if (location.pathname === \"\") {\n//   setIsMain(true);\n// }\nvar location=useLocation();var currPage=location.pathname.split(\"/\").pop();var ListContainerRef=useRef();var observerOptions={root:ListContainerRef.target,rootMargin:'0px -48% 0px -48%'// threshold: 0.1\n};var myRefs=[];myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());myRefs.push(useRef());// useEffect (() => {\n//     for (var i = 0; i < myRefs.length; i++) { \n//         const observer = new IntersectionObserver((projectsList) => {\n//           if (projectsList[0].isIntersecting) {\n//             setProjectValue(projectsList[0].target.id);\n//             projectsList[0].target.style.opacity = 1.0;\n//           } else {\n//             projectsList[0].target.style.opacity = 0.5;\n//           }\n//         }, observerOptions)\n//         observer.observe(myRefs[i].current);\n//     }\n// }, [])\nvar handleClick=function handleClick(index){var _myRefs$index$current;// console.log('proj clicked', index);\n// console.log('clicked - current proj index', projectValue);\n(_myRefs$index$current=myRefs[index].current)===null||_myRefs$index$current===void 0?void 0:_myRefs$index$current.scrollIntoView({behavior:'smooth'});// await timeout(1000); //for 1 sec delay\n// setProjectValue(index);\n};var imgPreviews=projects.map(function(project,index){return/*#__PURE__*/_jsx(ImageContainer,{to:'/'+index+'/works',children:/*#__PURE__*/_jsx(\"img\",{src:'imgs/'+project.imgs[0]})});});//MAIN PROJECTS LIST\nvar projects_list=projects.map(function(project,index){// var refName = 'ref' + {project};\n// const { ref: refName, inView: inView2, entry } = useInView({\n//   rootMargin: '-210px'\n// });\nif(project.isCS){return/*#__PURE__*/_jsxs(WorkItem,{id:index,ref:myRefs[index],onClick:function onClick(){return handleClick(index);},currProj:projectValue,thisProj:index,children:[project.name,/*#__PURE__*/_jsx(CaseStudy,{children:\"CASE STUDY\"})]});}else{return/*#__PURE__*/_jsx(WorkItem,{id:index,ref:myRefs[index],onClick:function onClick(){return handleClick(index);},currProj:projectValue,thisProj:index,children:project.name})// <InView>\n//   {({ inView, ref, entry }) => (\n//     <WorkItem ref={refName} id={\"testID\" + project}>\n//       {project.name}\n//       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n//         <img src={\"testProjCover\" + project.val + \".png\"} />\n//       </ImageHover>  \n//     </WorkItem>\n//   )}\n// </InView>\n;}});// function ProjTags({ tag, key, index }) {\n//   if (index < 5) {\n//     return <ProjectTag>{tag} <br/></ProjectTag>;\n//   }\n// }\n// let tagsDisplayed = projects[projectValue].tags.map((tag, index) => (\n//   <ProjTags\n//     tag={tag}\n//     key={tag.id}\n//     index={index}\n//   />\n// ));\n// let visit_link = () => {\n//   if (projects[projectValue].link.length == 1) {\n//     return (\n//       <VisitLink href={projects[projectValue].link[0]} target=\"_blank\">\n//         Visit ↗\n//       </VisitLink>\n//     )\n//   } else {\n//     return;\n//   }\n// }\n// let rightImageSource = \"imgs/\" + projects[projectValue].imgs[0];\nreturn/*#__PURE__*/_jsxs(Container,{as:motion.div,initial:{x:0,y:'-100%'},animate:currPage==''?{x:0,y:0}:{x:0,y:'-100%'},transition:{type:\"tween\",ease:[0.28,1.35,1.5,.91],duration:0.3},children:[/*#__PURE__*/_jsx(Label,{children:\"Work Photo Index\"}),/*#__PURE__*/_jsx(Version,{children:\"v2.13\"}),/*#__PURE__*/_jsx(ScrollContainer,{as:motion.div,initial:{y:'-103px'},animate:{y:0},exit:{y:'103px',transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:0.5}},transition:{type:\"tween\",ease:[0.7,0,0.13,1],duration:1},children:imgPreviews})]});};export default connect(function(_ref2){var projects=_ref2.projects,sideProjectsToggle=_ref2.sideProjectsToggle;return{projects:projects,sideProjectsToggle:sideProjectsToggle};})(SideProjects);","map":{"version":3,"sources":["/home/portfolio/v2/web-ui/src/components/SideProjects/index.js"],"names":["React","useState","useEffect","useRef","useCallback","useInView","inView","InView","connect","motion","Link","LinkRouter","Container","ImageContainer","WorkListContainer","Marker","ClickableArea","WorkItem","Label","Version","CaseStudy","WorkActions","ScrollContainer","WorkName","TagsContainer","ProjectTag","Details","VisitLink","SideProjects","projects","sideProjectsToggle","projectValue","setProjectValue","location","useLocation","currPage","pathname","split","pop","ListContainerRef","observerOptions","root","target","rootMargin","myRefs","push","handleClick","index","current","scrollIntoView","behavior","imgPreviews","map","project","imgs","projects_list","isCS","name","div","x","y","type","ease","duration","transition"],"mappings":"4GAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,CAA6CC,WAA7C,KAAgE,OAAhE,CACA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,MAA5B,KAA0C,6BAA1C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,OAASC,IAAI,GAAIC,CAAAA,UAAjB,KAAmC,kBAAnC,CACA,OACEC,SADF,CAEEC,cAFF,CAGEC,iBAHF,CAIEC,MAJF,CAKEC,aALF,CAMEC,QANF,CAOEC,KAPF,CAQEC,OARF,CASEC,SATF,CAUEC,WAVF,CAWEC,eAXF,CAYEC,QAZF,CAaEC,aAbF,CAcEC,UAdF,CAeEC,OAfF,CAgBEC,SAhBF,KAiBO,wBAjBP,C,wFAmBA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAsC,IAAnCC,CAAAA,QAAmC,MAAnCA,QAAmC,CAAzBC,kBAAyB,MAAzBA,kBAAyB,CAEzD,cAAwC7B,QAAQ,CAAC,CAAD,CAAhD,wCAAO8B,YAAP,eAAqBC,eAArB,eAEA;AAEA;AAEA;AACA;AACA;AAEA,GAAMC,CAAAA,QAAQ,CAAGC,WAAW,EAA5B,CAEA,GAAIC,CAAAA,QAAQ,CAAGF,QAAQ,CAACG,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,GAA7B,EAAf,CAEA,GAAMC,CAAAA,gBAAgB,CAAGpC,MAAM,EAA/B,CAEA,GAAIqC,CAAAA,eAAe,CAAG,CACpBC,IAAI,CAAEF,gBAAgB,CAACG,MADH,CAEpBC,UAAU,CAAE,mBACZ;AAHoB,CAAtB,CAMA,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACAA,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EACAyC,MAAM,CAACC,IAAP,CAAY1C,MAAM,EAAlB,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAM2C,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,2BAC7B;AACA;AACA,uBAAAH,MAAM,CAACG,KAAD,CAAN,CAAcC,OAAd,sEAAuBC,cAAvB,CAAsC,CAAEC,QAAQ,CAAE,QAAZ,CAAtC,EACA;AACA;AACD,CAND,CAQA,GAAIC,CAAAA,WAAW,CAAGtB,QAAQ,CAACuB,GAAT,CAAa,SAACC,OAAD,CAAUN,KAAV,CAAoB,CACjD,mBACE,KAAC,cAAD,EAAgB,EAAE,CAAE,IAAMA,KAAN,CAAc,QAAlC,uBACE,YAAK,GAAG,CAAE,QAAUM,OAAO,CAACC,IAAR,CAAa,CAAb,CAApB,EADF,EADF,CAKD,CANiB,CAAlB,CASA;AACA,GAAIC,CAAAA,aAAa,CAAG1B,QAAQ,CAACuB,GAAT,CAAa,SAACC,OAAD,CAAUN,KAAV,CAAoB,CAEnD;AACA;AACA;AACA;AAEA,GAAIM,OAAO,CAACG,IAAZ,CAAkB,CAChB,mBACE,MAAC,QAAD,EAAU,EAAE,CAAET,KAAd,CAAqB,GAAG,CAAEH,MAAM,CAACG,KAAD,CAAhC,CAAyC,OAAO,CAAE,yBAAKD,CAAAA,WAAW,CAACC,KAAD,CAAhB,EAAlD,CAA2E,QAAQ,CAAEhB,YAArF,CAAmG,QAAQ,CAAEgB,KAA7G,WACGM,OAAO,CAACI,IADX,cAGE,KAAC,SAAD,yBAHF,GADF,CAOD,CARD,IAQO,CACL,mBACE,KAAC,QAAD,EAAU,EAAE,CAAEV,KAAd,CAAqB,GAAG,CAAEH,MAAM,CAACG,KAAD,CAAhC,CAAyC,OAAO,CAAE,yBAAKD,CAAAA,WAAW,CAACC,KAAD,CAAhB,EAAlD,CAA2E,QAAQ,CAAEhB,YAArF,CAAmG,QAAQ,CAAEgB,KAA7G,UACGM,OAAO,CAACI,IADX,EAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdF,CAgBD,CACF,CAjCmB,CAApB,CAmCA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,mBACE,MAAC,SAAD,EACE,EAAE,CAAEhD,MAAM,CAACiD,GADb,CAEE,OAAO,CAAE,CAAEC,CAAC,CAAE,CAAL,CAAQC,CAAC,CAAE,OAAX,CAFX,CAGE,OAAO,CAAGzB,QAAQ,EAAI,EAAb,CAAmB,CAAGwB,CAAC,CAAE,CAAN,CAASC,CAAC,CAAE,CAAZ,CAAnB,CAAqC,CAAED,CAAC,CAAE,CAAL,CAAQC,CAAC,CAAE,OAAX,CAHhD,CAIE,UAAU,CAAE,CACZC,IAAI,CAAE,OADM,CAEZC,IAAI,CAAE,CAAC,IAAD,CAAO,IAAP,CAAa,GAAb,CAAkB,GAAlB,CAFM,CAGZC,QAAQ,CAAE,GAHE,CAJd,wBAUE,KAAC,KAAD,+BAVF,cAWE,KAAC,OAAD,oBAXF,cAYE,KAAC,eAAD,EACE,EAAE,CAAEtD,MAAM,CAACiD,GADb,CAEE,OAAO,CAAE,CAAEE,CAAC,CAAE,QAAL,CAFX,CAGE,OAAO,CAAE,CAAEA,CAAC,CAAE,CAAL,CAHX,CAIE,IAAI,CAAE,CAAEA,CAAC,CAAE,OAAL,CAAcI,UAAU,CAAE,CAC1BH,IAAI,CAAE,OADoB,CAE1BC,IAAI,CAAE,CAAC,GAAD,CAAM,CAAN,CAAS,IAAT,CAAe,CAAf,CAFoB,CAG1BC,QAAQ,CAAE,GAHgB,CAA1B,CAJR,CASE,UAAU,CAAE,CACRF,IAAI,CAAE,OADE,CAERC,IAAI,CAAE,CAAC,GAAD,CAAM,CAAN,CAAS,IAAT,CAAe,CAAf,CAFE,CAGRC,QAAQ,CAAE,CAHF,CATd,UAeGZ,WAfH,EAZF,GADF,CAgCD,CAxKD,CA0KA,cAAe3C,CAAAA,OAAO,CAAC,mBAAGqB,CAAAA,QAAH,OAAGA,QAAH,CAAaC,kBAAb,OAAaA,kBAAb,OAAuC,CAAED,QAAQ,CAARA,QAAF,CAAYC,kBAAkB,CAAlBA,kBAAZ,CAAvC,EAAD,CAAP,CAAkFF,YAAlF,CAAf","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useInView, inView, InView } from 'react-intersection-observer';\nimport { connect } from \"react-redux\";\nimport { motion } from \"framer-motion\";\nimport { Link as LinkRouter } from 'react-router-dom';\nimport {\n  Container,\n  ImageContainer,\n  WorkListContainer,\n  Marker,\n  ClickableArea,\n  WorkItem,\n  Label,\n  Version,\n  CaseStudy,\n  WorkActions,\n  ScrollContainer,\n  WorkName,\n  TagsContainer,\n  ProjectTag,\n  Details,\n  VisitLink\n} from './SideProjectsElements';\n\nconst SideProjects = ({ projects, sideProjectsToggle }) => {\n\n  const [projectValue, setProjectValue] = useState(0);\n\n  // const location = useLocation();\n\n  // const [isMain, setIsMain] = useState(false);\n\n  // if (location.pathname === \"\") {\n  //   setIsMain(true);\n  // }\n\n  const location = useLocation();\n    \n  let currPage = location.pathname.split(\"/\").pop();\n\n  const ListContainerRef = useRef();\n\n  let observerOptions = {\n    root: ListContainerRef.target,\n    rootMargin: '0px -48% 0px -48%',\n    // threshold: 0.1\n  }\n\n  const myRefs = [];\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n  myRefs.push(useRef());\n\n  // useEffect (() => {\n  //     for (var i = 0; i < myRefs.length; i++) { \n  //         const observer = new IntersectionObserver((projectsList) => {\n  //           if (projectsList[0].isIntersecting) {\n  //             setProjectValue(projectsList[0].target.id);\n  //             projectsList[0].target.style.opacity = 1.0;\n  //           } else {\n  //             projectsList[0].target.style.opacity = 0.5;\n  //           }\n  //         }, observerOptions)\n  //         observer.observe(myRefs[i].current);\n  //     }\n  // }, [])\n\n  const handleClick = (index) => {\n    // console.log('proj clicked', index);\n    // console.log('clicked - current proj index', projectValue);\n    myRefs[index].current?.scrollIntoView({ behavior: 'smooth' });\n    // await timeout(1000); //for 1 sec delay\n    // setProjectValue(index);\n  }\n\n  let imgPreviews = projects.map((project, index) => {\n    return (\n      <ImageContainer to={'/' + index + '/works'}>\n        <img src={'imgs/' + project.imgs[0]}></img>\n      </ImageContainer>\n    )\n  })\n\n\n  //MAIN PROJECTS LIST\n  let projects_list = projects.map((project, index) => {\n\n    // var refName = 'ref' + {project};\n    // const { ref: refName, inView: inView2, entry } = useInView({\n    //   rootMargin: '-210px'\n    // });\n\n    if (project.isCS) {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n          <CaseStudy>CASE STUDY</CaseStudy>\n        </WorkItem>\n      )\n    } else {\n      return (\n        <WorkItem id={index} ref={myRefs[index]} onClick={()=> handleClick(index)} currProj={projectValue} thisProj={index}>\n          {project.name}\n          {/* <Fake>{projectValue}</Fake> */}\n        </WorkItem>\n        // <InView>\n        //   {({ inView, ref, entry }) => (\n        //     <WorkItem ref={refName} id={\"testID\" + project}>\n        //       {project.name}\n        //       <ImageHover heightVar={\"1\" + project.val + \"%\"}>\n        //         <img src={\"testProjCover\" + project.val + \".png\"} />\n        //       </ImageHover>  \n        //     </WorkItem>\n        //   )}\n        // </InView>\n      )\n    }\n  });\n\n  // function ProjTags({ tag, key, index }) {\n  //   if (index < 5) {\n  //     return <ProjectTag>{tag} <br/></ProjectTag>;\n  //   }\n  // }\n\n  // let tagsDisplayed = projects[projectValue].tags.map((tag, index) => (\n  //   <ProjTags\n  //     tag={tag}\n  //     key={tag.id}\n  //     index={index}\n  //   />\n  // ));\n\n  // let visit_link = () => {\n  //   if (projects[projectValue].link.length == 1) {\n  //     return (\n  //       <VisitLink href={projects[projectValue].link[0]} target=\"_blank\">\n  //         Visit ↗\n  //       </VisitLink>\n  //     )\n  //   } else {\n  //     return;\n  //   }\n  // }\n\n  // let rightImageSource = \"imgs/\" + projects[projectValue].imgs[0];\n\n\n  return (\n    <Container\n      as={motion.div} \n      initial={{ x: 0, y: '-100%' }} \n      animate={(currPage == '') ? {  x: 0, y: 0 } : { x: 0, y: '-100%' }}\n      transition={{\n      type: \"tween\",\n      ease: [0.28, 1.35, 1.5, .91],\n      duration: 0.3\n      }}\n    >\n      <Label>Work Photo Index</Label>\n      <Version>v2.13</Version>\n      <ScrollContainer\n        as={motion.div}\n        initial={{ y: '-103px' }}\n        animate={{ y: 0 }}\n        exit={{ y: '103px', transition: {\n              type: \"tween\",\n              ease: [0.7, 0, 0.13, 1],\n              duration: 0.5,\n          } }}\n        transition={{\n            type: \"tween\",\n            ease: [0.7, 0, 0.13, 1],\n            duration: 1,\n        }}\n      >\n        {imgPreviews}\n      </ScrollContainer>\n    </Container>\n  )\n}\n\nexport default connect(({ projects, sideProjectsToggle }) => ({ projects, sideProjectsToggle }))(SideProjects);\n\n"]},"metadata":{},"sourceType":"module"}